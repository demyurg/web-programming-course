# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 6: API Fundamentals - –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º API –∏ essay –≤–æ–ø—Ä–æ—Å—ã

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º LR5. –í –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–∞–±–æ—Ç–µ –≤—ã –ø–æ–¥–∫–ª—é—á–∏–ª–∏ mock API –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –≤–æ–ø—Ä–æ—Å—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—ã–±–æ—Ä–æ–º (multiple-select). –¢–µ–ø–µ—Ä—å –≤—ã:

1. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π API —Å–µ—Ä–≤–µ—Ä** –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ mock-—Å–µ—Ä–≤–µ—Ä–∞
2. **–î–æ–±–∞–≤–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–æ–≤** - essay (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã)

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–Ω–µ—à–Ω–∏–º API –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–∞.

---

## –ß—Ç–æ –≤—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –≤ LR5

- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å mock API
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–∏–ø–∞ **multiple-select** (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ LR6

- üéØ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–Ω–µ—à–Ω–∏–π API —Å–µ—Ä–≤–µ—Ä
- üéØ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–∏–ø–∞ **essay** (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã)
- üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UI –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- üéØ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –≤ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤

---

## –®–∞–≥ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ lr5

```bash
cd lessons/lr5
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–µ—Ç–∫–∏ lr6

```bash
cd lessons/lr5

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∫—É—â—É—é —Ä–∞–±–æ—Ç—É
git add .
git commit -m "Complete LR5"

# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É
git checkout -b lr6
```

---

## –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ upstream

–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –≤–Ω–µ—Å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–æ–≤—É—é –±–∞–∑—É. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Ö –ø–æ–ª—É—á–∏—Ç—å:

```bash
# –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git fetch upstream

# –í–ª–µ–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–∞—à—É –≤–µ—Ç–∫—É
git merge upstream/main
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ú–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–ª–∏—è–Ω–∏—è. –†–∞–∑—Ä–µ—à–∏—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª—ã —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –ù–∞–π–¥–∏—Ç–µ –º–∞—Ä–∫–µ—Ä—ã `<<<<<<<`, `=======`, `>>>>>>>`
3. –û—Å—Ç–∞–≤—å—Ç–µ –Ω—É–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —É–¥–∞–ª–∏—Ç–µ –º–∞—Ä–∫–µ—Ä—ã
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ:

```bash
git add .
git commit -m "Resolve merge conflicts"
```

---

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `.env.example`:

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ .env
cp .env.example .env
```

### –°–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env.example`:

```env
# GitHub OAuth
VITE_GITHUB_CLIENT_ID=Ov23liELvyQUKMmRdXlw

# Redirect URI
VITE_GITHUB_REDIRECT_URI=http://localhost:5173

# API Backend URL
VITE_API_URL=http://dancv.ddns.net
```

### üî¥ –í–∞–∂–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è LR6:

–í `.env` —Ñ–∞–π–ª–µ **–ù–ï –ú–ï–ù–Ø–ô–¢–ï** –∑–Ω–∞—á–µ–Ω–∏–µ `VITE_API_URL`. –¢–µ–ø–µ—Ä—å –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å **—Ä–µ–∞–ª—å–Ω—ã–º –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º**, –∞ –Ω–µ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º mock-—Å–µ—Ä–≤–µ—Ä–æ–º.

**–ë—ã–ª–æ –≤ LR5:**
```env
VITE_API_URL=http://localhost:3000  # mock-—Å–µ—Ä–≤–µ—Ä
```

**–°—Ç–∞–ª–æ –≤ LR6:**
```env
VITE_API_URL=http://dancv.ddns.net  # —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
```

---

## –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ü–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è –º–æ–≥–ª–∏ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã:

```bash
npm install
```

–≠—Ç–æ –æ–±–Ω–æ–≤–∏—Ç:
- `@course/auth-component` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –î—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã

---

## –®–∞–≥ 4: –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è API —Ö—É–∫–æ–≤

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Orval –∏–ª–∏ OpenAPI —Å—Ö–µ–º–∞ –º–æ–≥–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è:

```bash
npm run codegen
```

–≠—Ç–æ –æ–±–Ω–æ–≤–∏—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `generated/api/` —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∏ —Ö—É–∫–∞–º–∏.

---

## –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 5.1 –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à Vite

```bash
rm -rf node_modules/.vite
```

### 5.2 –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä

```bash
npm run dev -- --force
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:5173`

### 5.3 Mock-—Å–µ—Ä–≤–µ—Ä –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω!

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –î–ª—è LR6 –≤–∞–º **–ù–ï –Ω—É–∂–Ω–æ** –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π mock-—Å–µ—Ä–≤–µ—Ä. –í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º –≤–Ω–µ—à–Ω–∏–º API.

---

## –®–∞–≥ 6: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ essay –≤–æ–ø—Ä–æ—Å–æ–≤

### 6.1 –ò–∑—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∏–ø–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤

API —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–æ–≤:

**Multiple-select (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ LR5):**
```typescript
{
  id: "q_123",
  type: "multiple-select",
  question: "–ö–∞–∫–∏–µ —Ö—É–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è side effects?",
  options: ["useState", "useEffect", "useLayoutEffect"],
  maxPoints: 4,
  difficulty: "medium"
}
```

**Essay (–Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å):**
```typescript
{
  id: "q_456",
  type: "essay",
  question: "–û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É useMemo –∏ useCallback",
  minLength: 100,
  maxLength: 1000,
  maxPoints: 10,
  difficulty: "hard"
}
```

### 6.2 –û–±–Ω–æ–≤–∏—Ç–µ —Ç–∏–ø—ã –≤ `src/types/quiz.ts`

–î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–≤—É—Ö —Ç–∏–ø–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤:

```typescript
export type QuestionType = 'multiple-select' | 'essay';

export interface Question {
  id: string | number;
  type: QuestionType;  // –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ –ø–æ–ª–µ
  question: string;
  difficulty: 'easy' | 'medium' | 'hard';
  maxPoints: number;

  // –î–ª—è multiple-select
  options?: string[];

  // –î–ª—è essay
  minLength?: number;
  maxLength?: number;
}

export interface Answer {
  questionId: string | number;
  // –î–ª—è multiple-select
  selectedAnswers?: number[];
  // –î–ª—è essay
  textAnswer?: string;

  isCorrect?: boolean;
  pointsEarned?: number;
}
```

### 6.3 –û–±–Ω–æ–≤–∏—Ç–µ gameStore

–î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –≤ `src/stores/gameStore.ts`:

```typescript
class GameStore {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...

  selectedAnswers: number[] = [];
  textAnswer: string = '';  // –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ –ø–æ–ª–µ –¥–ª—è essay –æ—Ç–≤–µ—Ç–æ–≤

  // –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
  setTextAnswer(text: string) {
    this.textAnswer = text;
  }

  // –û–±–Ω–æ–≤–∏—Ç–µ –º–µ—Ç–æ–¥ nextQuestion
  nextQuestion() {
    // –û—á–∏—â–∞–π—Ç–µ –æ–±–∞ —Ç–∏–ø–∞ –æ—Ç–≤–µ—Ç–æ–≤
    this.selectedAnswers = [];
    this.textAnswer = '';
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
  }

  // –û–±–Ω–æ–≤–∏—Ç–µ –º–µ—Ç–æ–¥ saveCurrentAnswer
  saveCurrentAnswer() {
    const current = this.currentQuestion;
    if (!current) return;

    const answer: Answer = {
      questionId: current.id,
    };

    if (current.type === 'multiple-select') {
      answer.selectedAnswers = [...this.selectedAnswers];
    } else if (current.type === 'essay') {
      answer.textAnswer = this.textAnswer;
    }

    this.answers.push(answer);
  }
}
```

### 6.4 –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Task4.tsx

–î–æ–±–∞–≤—å—Ç–µ —É—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–∞:

```typescript
import { observer } from 'mobx-react-lite';
import { useState } from 'react';
import gameStore from '../stores/gameStore';

const Task4 = observer(() => {
  const currentQuestion = gameStore.currentQuestion;

  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ö—É–∫–∏ –∏ –ª–æ–≥–∏–∫–∞ ...

  const handleNextQuestion = () => {
    if (sessionId && currentQuestion) {
      gameStore.saveCurrentAnswer();

      // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–∞
      const answerData = currentQuestion.type === 'multiple-select'
        ? { selectedOptions: gameStore.selectedAnswers }
        : { textAnswer: gameStore.textAnswer };

      submitAnswer.mutate(
        {
          sessionId,
          data: {
            questionId: currentQuestion.id,
            ...answerData,
          },
        },
        {
          onSuccess: (response) => {
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            if ('pointsEarned' in response) {
              gameStore.updateAnswerResult(
                currentQuestion.id,
                response.status === 'correct',
                response.pointsEarned
              );
            }
            gameStore.nextQuestion();
          },
          onError: () => {
            gameStore.nextQuestion();
          },
        }
      );
    }
  };

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–∂–Ω–æ –ª–∏ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ
  const canProceed = currentQuestion?.type === 'multiple-select'
    ? gameStore.selectedAnswers.length > 0
    : gameStore.textAnswer.trim().length >= (currentQuestion?.minLength || 0);

  return (
    <div>
      {/* ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ... */}

      {currentQuestion && (
        <div>
          <h2>{currentQuestion.question}</h2>
          <p>–¢–∏–ø: {currentQuestion.type}</p>
          <p>–°–ª–æ–∂–Ω–æ—Å—Ç—å: {currentQuestion.difficulty}</p>
          <p>–ú–∞–∫—Å–∏–º—É–º –±–∞–ª–ª–æ–≤: {currentQuestion.maxPoints}</p>

          {/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è multiple-select */}
          {currentQuestion.type === 'multiple-select' && currentQuestion.options && (
            <div className="options">
              {currentQuestion.options.map((option, index) => {
                const isSelected = gameStore.selectedAnswers.includes(index);
                return (
                  <button
                    key={index}
                    onClick={() => gameStore.toggleAnswer(index)}
                    className={isSelected ? 'selected' : ''}
                  >
                    {isSelected ? '‚úì' : String.fromCharCode(65 + index)} {option}
                  </button>
                );
              })}
            </div>
          )}

          {/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è essay */}
          {currentQuestion.type === 'essay' && (
            <div className="essay-input">
              <textarea
                value={gameStore.textAnswer}
                onChange={(e) => gameStore.setTextAnswer(e.target.value)}
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç..."
                minLength={currentQuestion.minLength}
                maxLength={currentQuestion.maxLength}
                rows={10}
                className="w-full p-4 border rounded"
              />
              <div className="text-sm text-gray-500 mt-2">
                –°–∏–º–≤–æ–ª–æ–≤: {gameStore.textAnswer.length}
                {currentQuestion.minLength && ` (–º–∏–Ω–∏–º—É–º: ${currentQuestion.minLength})`}
                {currentQuestion.maxLength && ` (–º–∞–∫—Å–∏–º—É–º: ${currentQuestion.maxLength})`}
              </div>
            </div>
          )}

          {/* –ö–Ω–æ–ø–∫–∞ "–î–∞–ª–µ–µ" –∏–ª–∏ "–ó–∞–≤–µ—Ä—à–∏—Ç—å" */}
          {canProceed && (
            <button
              onClick={gameStore.isLastQuestion ? handleFinishGame : handleNextQuestion}
              disabled={submitAnswer.isPending || submitSession.isPending}
            >
              {gameStore.isLastQuestion ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å' : '–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å'}
            </button>
          )}
        </div>
      )}
    </div>
  );
});

export default Task4;
```

---

## –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 7.1 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º API

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ù–∞–∂–º–∏—Ç–µ "Login" ‚Üí –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub
2. **–°—Ç–∞—Ä—Ç –∏–≥—Ä—ã**: –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
3. **–í–æ–ø—Ä–æ—Å—ã multiple-select**:
   - –í–∏–¥–Ω—ã –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
   - –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ
   - –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. **–í–æ–ø—Ä–æ—Å—ã essay**:
   - –í–∏–¥–Ω–æ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤
   - –ö–Ω–æ–ø–∫–∞ "–î–∞–ª–µ–µ" –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã
5. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

### 7.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ DevTools

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12):

- **Console**: –Ω–µ—Ç –æ—à–∏–±–æ–∫
- **Network**:
  - –ó–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ `http://dancv.ddns.net/api/*`
  - –í–∏–¥–Ω—ã –∑–∞–ø—Ä–æ—Å—ã `POST /api/sessions/{id}/answers` —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
    - `{"selectedOptions": [0, 2]}` –¥–ª—è multiple-select
    - `{"textAnswer": "..."}` –¥–ª—è essay
- **Application ‚Üí Local Storage**: —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω

---

## –û—Ç–ª–∏—á–∏—è LR6 –æ—Ç LR5

| –ê—Å–ø–µ–∫—Ç | LR5 | LR6 |
|--------|-----|-----|
| **API —Å–µ—Ä–≤–µ—Ä** | Mock (localhost:3000) | –†–µ–∞–ª—å–Ω—ã–π (dancv.ddns.net) |
| **–¢–∏–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤** | –¢–æ–ª—å–∫–æ multiple-select | multiple-select + essay |
| **Mock-—Å–µ—Ä–≤–µ—Ä** | –ù—É–∂–µ–Ω –∑–∞–ø—É—Å–∫ | –ù–µ –Ω—É–∂–µ–Ω |
| **–û—Ç–≤–µ—Ç—ã** | –¢–æ–ª—å–∫–æ –º–∞—Å—Å–∏–≤ –∏–Ω–¥–µ–∫—Å–æ–≤ | –ò–Ω–¥–µ–∫—Å—ã –ò–õ–ò —Ç–µ–∫—Å—Ç |
| **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** | –¢–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ | –ö–Ω–æ–ø–∫–∏ + textarea |

---

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤–æ–ø—Ä–æ—Å—ã —Å —Å–µ—Ä–≤–µ—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `VITE_API_URL=http://dancv.ddns.net`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab - –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "Cannot read property 'type' of undefined"

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–¥–µ:

```typescript
if (!currentQuestion) return null;

// –î–∞–ª—å—à–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å currentQuestion.type
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è essay

**–†–µ—à–µ–Ω–∏–µ:**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Network tab. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```json
{
  "questionId": "q_456",
  "textAnswer": "–í–∞—à —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞..."
}
```

–ê –ù–ï:

```json
{
  "questionId": "q_456",
  "selectedOptions": []  // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è essay
}
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ git merge

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
git status

# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª—ã –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤—Ä—É—á–Ω—É—é
# –ó–∞—Ç–µ–º:
git add .
git commit -m "Resolve conflicts"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∏–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**

```bash
rm -rf node_modules/.vite
npm run dev -- --force
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–Ω–µ—à–Ω–∏–º API
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–æ–ø—Ä–æ—Å—ã –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ (multiple-select –∏ essay)
- ‚úÖ –î–ª—è multiple-select —Ä–∞–±–æ—Ç–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
- ‚úÖ –î–ª—è essay —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–ª–∏–Ω—ã
- ‚úÖ –û—Ç–≤–µ—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- ‚úÖ –°–µ—Å—Å–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π URL API
cat .env | grep VITE_API_URL

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ upstream
git fetch upstream
git diff upstream/main

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
rm -rf node_modules package-lock.json node_modules/.vite
npm install
npm run codegen
npm run dev -- --force

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ mock-—Å–µ—Ä–≤–µ—Ä –ù–ï –∑–∞–ø—É—â–µ–Ω
lsof -ti:3000
# –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –µ—Å—Ç—å - –∑–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è essay –æ—Ç–≤–µ—Ç–æ–≤**:
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –∫–æ—Ä–æ—á–µ `minLength`
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–≤–æ–¥ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ `maxLength`

2. **–ü—Ä–µ–≤—å—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**:
   - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –±—ã–ª–∏ essay, –∞ –∫–∞–∫–∏–µ multiple-select
   - –î–ª—è essay –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å "–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ —É –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è"

3. **–£–ª—É—á—à–µ–Ω–∏–µ UX –¥–ª—è essay**:
   - –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ localStorage
   - –°—á–µ—Ç—á–∏–∫ —Å–ª–æ–≤ (–≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Å–∏–º–≤–æ–ª–∞–º)
   - Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

4. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**:
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å –≤–æ–ø—Ä–æ—Å–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [OpenAPI —Å—Ö–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–∞](../lr5/quiz-api-schema.yaml)
- [React Query - Mutations](https://tanstack.com/query/latest/docs/react/guides/mutations)
- [MobX - Computed Values](https://mobx.js.org/computeds.html)
- [Vite - Env Variables](https://vitejs.dev/guide/env-and-mode.html)
